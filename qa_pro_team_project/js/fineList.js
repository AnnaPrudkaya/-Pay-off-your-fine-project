"use strict";
window.fineList = {
    searchFines : searchFines
}

//Ця зміна містить всі дані які в нас зберігаються у файлі data
let DB = data.finesData;
console.log(DB)

function searchFines(searchKey) {
    "use strict";

    let finesData = [
        {номер: '001', тип: 'Перевищення швидкості', сума: 100, дата: '2023-01-15'},
        {номер: '002', тип: 'Невірне паркування', сума: 50, дата: '2023-02-20'},
        {номер: '003', тип: 'Їзда у не тверезому стані', сума: 200, дата: '2023-03-10'},
        {номер: '004', тип: 'Їзда у не тверезому стані', сума: 200, дата: '2023-03-10'},
        {номер: '005', тип: 'Невірне паркування', сума: 200, дата: '2023-03-10'},
    ];
    
    window.data = {
        finesData: finesData
    };
    
    window.fineList = {
        searchFines: searchFines
    };
    
    function searchFines(searchKey) {
        let foundFines = [];
    
        // Перевірка, чи є переданий параметр коректним
        if (searchKey === 'Пошук за номером' || searchKey === 'Пошук за типом штрафу') {
            // Перебір кожного елемента в базі даних
            for (let i = 0; i < finesData.length; i++) {
                // Якщо штраф відповідає пошуковому ключу, додаємо його до знайдених
                if ((searchKey === 'Пошук за номером' && finesData[i].номер === '001') || 
                    (searchKey === 'Пошук за типом штрафу' && finesData[i].тип === 'Перевищення швидкості')) {
                    foundFines.push(finesData[i]);
                }
            }
        } else {
            console.error('Некоректний параметр пошуку.');
        }
    
        return foundFines;
    }  


    /*
     Напишіть свій код тут!
     Як ви бачите функція повертає статичні дані.
     Замість масиву який прописаний хардкодом, вам необхідно реалізувати цю функцію
     так, щоб вона повертала масив відповідно переданому значенню в функцію.
     Саме значення - це "Пошук за номером" або "Пошук за типом штрафу"
     Тип штрафу може бути тільки
     - Перевищення швидкості
     - Невірне паркування
     - Їзда у не тверезому стані
     */


    return [
        {номер: '001', тип: 'Перевищення швидкості', сума: 100, дата: '2023-01-15'}
    ];
}


